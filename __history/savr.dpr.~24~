program savr;

uses
  System.StartUpCopy,
  FMX.Forms,
  uConexao in 'uConexao.pas' {dmConexao: TDataModule},
  uSetup in 'uSetup.pas' {frmSetup},
  uMain in 'uMain.pas' {frmMain},
  uConfigGeral in 'uConfigGeral.pas',
  uCategoria in 'uCategoria.pas',
  uLancamento in 'uLancamento.pas',
  uConfigGeralDAO in 'uConfigGeralDAO.pas',
  uAppGlobals in 'uAppGlobals.pas',
  uEditMoeda in 'uEditMoeda.pas',
  uUtils in 'uUtils.pas';

{$R *.res}

var
  DAO: TConfigGeralDAO;
  AppConfig: TConfigGeral;

begin
  DAO := TConfigGeralDAO.Create;
  AppConfig := DAO.UpdateInstanciaConfig;

  Application.Initialize;
  Application.CreateForm(TdmConexao, dmConexao);

  if AppConfig.NomeUsuario <> '' then
  Application.CreateForm(TfrmMain, frmMain)
  else
  Application.CreateForm(TfrmSetup, frmSetup);

  Application.Run;
end.
